{"ast":null,"code":"import _slicedToArray from\"/Users/annamahlberg/Documents/Bootcamp/course_work/workshops/user_hub_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import ReactDOM from'react-dom';import{BrowserRouter as Router,Route,Routes}from'react-router-dom';import{Switch,Redirect}from'react-router-dom';import{Header,UserPosts,UserTodos}from'./components';import{getUsers,getPostsByUser,getTodosByUser}from'./api';import{getCurrentUser}from'./auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userList=_useState2[0],setUserList=_useState2[1];var _useState3=useState(getCurrentUser),_useState4=_slicedToArray(_useState3,2),currentUser=_useState4[0],setCurrentUser=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),userPosts=_useState6[0],setUserPosts=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),userTodos=_useState8[0],setUserTodos=_useState8[1];useEffect(function(){getUsers().then(function(users){setUserList(users);}).catch(function(error){// something something errors\nconsole.error(error);});},[]);useEffect(function(){if(!currentUser){setUserPosts([]);return;}getPostsByUser(currentUser.id).then(function(posts){setUserPosts(posts);}).catch(function(error){// something something errors\nconsole.error(error);});getTodosByUser(currentUser.id).then(function(todos){setUserTodos(todos);}).catch(function(error){// something something errors\n});},[currentUser]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{id:\"App\",children:[/*#__PURE__*/_jsx(Header,{userList:userList,currentUser:currentUser,setCurrentUser:setCurrentUser}),currentUser?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/posts\",children:/*#__PURE__*/_jsx(UserPosts,{userPosts:userPosts,currentUser:currentUser})}),/*#__PURE__*/_jsx(Route,{path:\"/todos\",children:/*#__PURE__*/_jsx(UserTodos,{userTodos:userTodos,currentUser:currentUser})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsxs(\"h2\",{style:{padding:\".5em\"},children:[\"Welcome, \",currentUser.username,\"!\"]})}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(\"h2\",{style:{padding:\".5em\"},children:\"Please log in, above.\"})}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]})})]})});};ReactDOM.render(/*#__PURE__*/_jsx(App,{}),document.getElementById('root'));","map":{"version":3,"names":["React","useState","useEffect","ReactDOM","BrowserRouter","Router","Route","Routes","Switch","Redirect","Header","UserPosts","UserTodos","getUsers","getPostsByUser","getTodosByUser","getCurrentUser","App","userList","setUserList","currentUser","setCurrentUser","userPosts","setUserPosts","userTodos","setUserTodos","then","users","catch","error","console","id","posts","todos","padding","username","render","document","getElementById"],"sources":["/Users/annamahlberg/Documents/Bootcamp/course_work/workshops/user_hub_react/src/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {\n  BrowserRouter as Router,\n  Route,\n  Routes\n} from 'react-router-dom';\n\nimport { Switch, Redirect } from 'react-router-dom';\n\nimport { Header, UserPosts, UserTodos } from './components';\n\nimport { getUsers, getPostsByUser, getTodosByUser } from './api';\nimport { getCurrentUser } from './auth';\n\nconst App = () => {\n  const [userList, setUserList] = useState([]);\n  const [currentUser, setCurrentUser] = useState(getCurrentUser);\n  const [userPosts, setUserPosts] = useState([]);\n  const [userTodos, setUserTodos] = useState([]);\n\n  useEffect(() => {\n    getUsers()\n      .then(users => {\n        setUserList(users)\n      })\n      .catch(error => {\n        // something something errors\n        console.error(error)\n      });\n  }, []);\n\n  useEffect(() => {\n    if (!currentUser) {\n      setUserPosts([]);\n      return;\n    }\n\n  getPostsByUser(currentUser.id)\n      .then(posts => {\n        setUserPosts(posts);\n      })\n      .catch(error => {\n        // something something errors\n        console.error(error);\n      });\n\n  getTodosByUser(currentUser.id)\n      .then(todos => {\n        setUserTodos(todos);\n      })\n      .catch(error => {\n        // something something errors\n      });\n  }, [currentUser]);\n\n  return (\n    <Router>\n      <div id=\"App\">\n        <Header\n          userList={ userList }\n          currentUser={ currentUser }\n          setCurrentUser={ setCurrentUser } />\n        {\n          currentUser\n          ? <>\n              <Switch>\n                <Route path=\"/posts\">\n                  <UserPosts\n                    userPosts={ userPosts }\n                    currentUser={ currentUser } />\n                </Route>\n                <Route path=\"/todos\">\n                  <UserTodos\n                    userTodos={ userTodos }\n                    currentUser={ currentUser } />\n                </Route>\n                <Route exact path=\"/\">\n                  <h2 style={{\n                    padding: \".5em\"\n                  }}>Welcome, { currentUser.username }!</h2>\n                </Route>\n                <Redirect to=\"/\" />\n              </Switch>\n            </>\n          : <>\n              <Switch>\n                <Route exact path=\"/\">\n                  <h2 style={{\n                    padding: \".5em\"\n                  }}>Please log in, above.</h2>\n                </Route>\n                <Redirect to=\"/\" />\n              </Switch>\n            </>\n        }\n      </div>\n    </Router>\n  );\n}\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"mappings":"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"},"metadata":{},"sourceType":"module"}